<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<link rel="shortcut icon" href="#" />
<script src="/javascripts/vue.js"></script>
<script src="/javascripts/vue-router.js"></script>
<script src="/javascripts/jquery-3.2.1.min.js"></script>
<link rel="stylesheet" href="/stylesheets/apitool.css">
<link rel="stylesheet" href="http://at.alicdn.com/t/font_753288_4s35ojdy9ic.css">
<title></title>
<script>
//获取url参数--封装
(function($){
  $.getUrlParam = function(name){
    var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
    var r = window.location.search.substr(1).match(reg);
    if (r!=null) return unescape(r[2]); return null;
  }
})(jQuery);
$(function(){
    $("#lib").on("mouseenter", function(){
      $(this).find("ul").show()
    })
    $("#lib").on("mouseleave", function(){
      $("#lib ul").hide()
    })

    // 点击跳转url
    $("#lib ul li").on("click",function(){
      var url = $(this).data("url")
      window.location.href = url
    })
})
</script>
</head>
<body>
<!-- 头部 -->
<div class="header">
  <div class="logo"><img src="/images/logo.png"></div>
  <div class="menu">
    <a href="/admin">首页</a>
    <a href="javascript:;" class="dropdown-lib" id="lib">
      <span>文档<i class="iconfont icon-jiantou32"></i></span>
      <ul>
        <li data-url="/article/list_article.html"><i class="iconfont icon-document"></i>智慧城市移动系统API</li>
        <li data-url="/article/list_article.html"><i class="iconfont icon-document"></i>招商数字金融系统API</li>
      </ul>
    </a>
    <a href="#">目录</a>
    <a href="#">退出</a>
  </div>
</div>
<!-- //头部 -->
<div id="apitool">
  <!-- 工具栏 -->
  <div class="list-bar">
    <div class="list-name">
      <span>陈键锋</span>
      <em>/</em>
      <span>智慧城市移动系统（SCM）Api</span>
      <em>/</em>
      <span>{{ title }}</span>
    </div>
    <div class="list-opt">
      <a :href="'/article/edit_article.html?id=' + id" class="publish">编辑</a>
    </div>
  </div>
  <!-- //工具栏 -->
  <!-- 编辑区 -->
  <div class="ad-container" v-cloak>
    <div class="ad-article">
      <div class="view-content">{{ content }}</div>
    </div>
  </div>
  <!-- //编辑区 -->
</div>
  <script type="text/javascript">
  var vm = new Vue({
    el: '#apitool',
    data: {
      title: "",
      content: "",
      id: ""
    },
    created: function(){
      var _this = this;
      _this.id = $.getUrlParam('id')
      // 查看对应id的数据
      $.ajax({
  			type: "get",
  			url: "./view?id=" + _this.id,
  			dataType: "json",
  			success: function(res){
          _this.title = res.title;
          _this.content = res.content;
  			}
		  })
		},
    methods:{
    }
  })
  </script>

</body>
</html>
